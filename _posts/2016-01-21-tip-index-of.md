---
title:  "Проверка нахождения значения в массиве"
categories: JavaScript
date:   2016-01-21 8:50:58 +0300
type: advice
identifier: tip-index-of

description: "До релиза ES2016 ещё долго, а, значит, и метод массивов <code>Array.prototype.includes</code> использовать можно будет ещё не скоро. Сейчас же можно немного сократить свой код, используя побитовый оператор <code>~</code>."
---

Обычно, чтобы проверить, находится ли значение в массиве или нет, необходимо выполнить одну из следующих операций:
{% highlight javascript %}
var arr = ['.js', '.css', '.html'];
if (arr.indexOf('.jsx') === -1) { 
  // будет выполнено, когда значения нет 
}
if (arr.indexOf('.css') >= -1) {
  // будет выполнено, когда значение есть 
}
{% endhighlight %}

Нативного метода для подобных задач пока что нет. Он появится в спецификации ES2016 и будет называться [includes](https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Array/includes). До того, как данный метод будет реализован, можно для данных целей можно использовать побитовый оператор `~`:
{% highlight javascript %}
var arr = ['.js', '.css', '.html'];
if (~arr.indexOf('.jsx')) { 
  // будет выполнено, когда значения нет 
}
if (~arr.indexOf('.css')) {
  // будет выполнено, когда значение есть 
}
{% endhighlight %}

Оператор `~` возвращает число, которое равно `~n == -(n + 1)`: `~1 == -(1 + 1) == -2`, `~0 == -(0 + 1) == -1`, `-1 == -(-1 + 1) == 0`, `~10 == -(10 + 1) == -11`. Подробнее о работе `~` и других побитовых операторов можно узнать в [этой статье](https://learn.javascript.ru/bitwise-operators#побитовое-не).